{% extends 'ILLDataCiteDOIBundle::base.html.twig' %}
{% block title %}Register dataset - DOI Administration{% endblock %}
{% block header %}DOI Administration{% endblock %}
{% block body %}
<div class="row-fluid">
    <div class="span12">
        <h1>{{ doi.doi }}</h1>
        <hr>
        <ul class="breadcrumb">
            <li><a href="{{ path('ill_datacitedoi_dataset_index') }}">Datasets</a> <span class="divider">/</span></li>
             <li class="active">Register</li>
        </ul>
    </div>
</div>
<div class="row-fluid">
    <div class="span9">
        <form action="{{ path('ill_datacitedoi_dataset_create') }}" data-config-url="{{ path('ill_datacitedoi_metadata_config')}}" data-bind="with: metadata" id="metadataForm" data-url="{{ path('ill_datacitedoi_dataset_create') }}" class="form-horizontal" method="get">
             <div class="control-group">
                <label class="control-label" for="prefix">Prefix</label>
                <div class="controls">
                    <select data-bind="options: prefixes, optionsValue: 'id',  optionsText: 'value', value: prefix" data-toggle="popover" data-placement="right" data-content="This field is required. For testing purposes, please select the test prefix of 10.5072" title="Prefix" ></select>
                </div>
            </div>
             <div class="control-group">
                <label class="control-label" for="suffix">Suffix</label>
                <div class="controls">
                    <input type="text"  class="input-xxsmall" id="suffix"  data-bind="value: suffix"  data-toggle="popover" data-placement="top" data-content="This field is required. An example of a suffix is: ILL-DATA-2-4-2" title="Suffix" />
                    <p class="help-inline" style="color: #B94A48; font-weight: bold" data-bind="if: suffix.isModified() && !suffix.isValid(), text: suffix.error, attr: { title: suffix.error }"></p>
                </div>
            </div>
            {% include 'ILLDataCiteDOIBundle:Metadata:form.html.twig' %}
        </form>
    </div>
    <div class="span3">
        <ul class="nav nav-list">
            <li class="nav-header">Help on creating a dataset</li>
            <li>
                <p>When updating metadata for a dataset, there are four <b>required</b> properties:</p>
                <ol>
                    <li>At least one creator (with name identifier attributes)</li>
                    <li>At least one title (with optional type attribute)</li>
                    <li>Publisher</li>
                    <li>Publication year</li>
                </ol>
                <p><br>Although, there are are not many required properties, we urge you to try and add as much metadata as possible.</p>
            </li>
            <li>
                <h2>Debug</h2>
                <div data-bind="text: ko.toJSON(metadata)"></div>
            </li>
        </ul>
    </div>
</div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
{% javascripts

        'bundles/illdatacitedoi/js/jquery.blockUI.js'
        'bundles/illdatacitedoi/js/knockout-2.2.1.js'
        'bundles/illdatacitedoi/js/knockout.validation.js'
        'bundles/illdatacitedoi/js/datepicker/js/bootstrap-datepicker.js'
        'bundles/illdatacitedoi/js/chosen/chosen.jquery.js'
        'bundles/illdatacitedoi/js/metadata/create.js'
%}
        <script src="{{ asset_url }}" type="text/javascript"></script>
{% endjavascripts %}
{% endblock %}
