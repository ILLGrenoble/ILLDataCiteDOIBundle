{% extends 'ILLDataCiteDOIBundle::base.html.twig' %}
{% block title %}DOI Administration - Datasets{% endblock %}
{% block header %}DOI Administration{% endblock %}
{% block body %}
<div class="row-fluid">
    <div class="span12">
      <h1>All datasets</h1>
      <hr>
      {% if dois %}
		<div class="alert alert-info">
			<p>You have <b>{{ dois.NbResults}}</b> registered datasets</p>
		</div>
		<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>#</th>
					<th>Identifier</th>
					<th>Type</th>
					<th>Created at</th>
					<th>Updated at</th>
				</tr>
			</thead>
			<tbody>
				{% for doi in dois %}
					<tr>
						<td>{{ doi.id }}</td>
						<td>
							<a href="{{ path('ill_datacitedoi_dataset_view', { 'id' : doi.id }) }}">{{ doi.identifier }}</a>
						</td>
						<td>{{ doi.type }}</td>
						<td>{{ doi.created.format("d-m-Y")}}</td>
						<td>{{ doi.updated ? doi.updated.format("d-m-Y") : "-"}}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	    {{ pagerfanta(dois, 'twitter_bootstrap', {'proximity': 3}) }}
      {% else %}
      	<div class="alert alert-error">
      		<p>You do not have any DOIs registered</p>
  		</div>
      {% endif %}
    </div>
</div>
{% endblock %}
